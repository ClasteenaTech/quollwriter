/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * User Manual available at https://docs.gradle.org/5.2.1/userguide/tutorial_java_projects.html
 */

plugins {
    // Apply the java plugin to add support for Java
    id 'java'

    // Apply the application plugin to add support for building an application
    id 'application'
}

version '3.0.0'

sourceSets {
    main {
        compileClasspath = fileTree('3rd-party-jars') {
            include '*.jar'
        }
        runtimeClasspath = fileTree('3rd-party-jars') {
            include '*.jar'
        } + fileTree(project.libsDir) {
            include '*.jar'
        }
    }
}

repositories {
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}

dependencies {
    // This dependency is found on compile classpath of this component and consumers.
    /*implementation 'com.google.guava:guava:27.0.1-jre'*/

    compile 'org.jsoup:jsoup:1.11.3'
    implementation 'org.jsoup:jsoup:1.11.3'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
}

compileJava {
    options.compilerArgs =
    [
        '--add-modules=javafx.controls,javafx.swing,javafx.media,javafx.web,java.instrument,jdk.attach',
        '--module-path',
        'D:/reference/java/javafx/javafx-sdk-11.0.2/lib'
    ]
}

jar {
    doFirst {
        file("${sourceSets.main.output.resourcesDir}/data/version.txt").text = "$version"
    }
}

javadoc {
    doFirst {
        options.addStringOption ('-module-path', 'D:/reference/java/javafx/javafx-sdk-11.0.2/lib')
        options.addStringOption ('-add-modules', 'javafx.controls,javafx.swing,javafx.media,javafx.web,java.instrument,jdk.attach')
    }
}

application {
    applicationDefaultJvmArgs =
    [
        '--add-modules=javafx.controls,javafx.swing,javafx.media,javafx.web,java.instrument,jdk.attach',
        '--module-path',
        'D:/reference/java/javafx/javafx-sdk-11.0.2/lib'
    ]

    // Define the main class for the application
    mainClassName 'com.quollwriter.Startup_fx'

}

run {
    dependsOn jar
}
